@let loading = this.loading$ | async;

@if (loading) {
	<section class="page-skeleton">
		<span class="loading">Loading…</span>
	</section>
} @else {
	<header class="nav">
		<a routerLink="/threads">Threads</a>
		@let logged = this.authService.user$ | async;

		@if (logged) {
			<a routerLink="/threads/create">Create</a>
			<a routerLink="/my-profile/threads">My Threads</a>
			<a routerLink="/my-profile/posts">My Posts</a>
		}
		<span class="spacer"></span>
		@if (logged) {
			<a routerLink="/my-profile">Profile</a>
			<button type="button" (click)="logout()" [disabled]="signingOut">Logout</button>
			@if (signingOut) {
				<span class="loading small">Signing out…</span>
			}
		} @else {
			<a routerLink="/login">Login</a>
			<a routerLink="/register">Register</a>
		}
	</header>

	<main>
		<router-outlet/>
	</main>
}
